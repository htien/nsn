(function(c){c.fn.autogrow=function(){return this.filter("textarea").each(function(){var e=this,a=c(e),f=a.height(),g=a.hasClass("autogrow-short")?0:parseInt(a.css("lineHeight")),d=c("<div></div>").css({position:"absolute",top:-1E4,left:-1E4,width:a.width(),fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily"),fontWeight:a.css("fontWeight"),lineHeight:a.css("lineHeight"),resize:"none"}).appendTo(document.body),b=function(){var b=e.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,
"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(a){for(var b=0,c="";b<a.length-1;b++)c+="&nbsp;";return c+" "});d.css("width",a.width());d.html(b);a.css("height",Math.max(d.height()+g,f))};a.change(b).keyup(b).keydown(b);c(window).resize(b);b()})}})(jQuery);